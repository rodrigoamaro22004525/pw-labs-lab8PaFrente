<!-- api.html -->

{% extends 'portfolio/layout.html' %}



{% block content %}

    <h3 class="titulo" style="color: white">API de Avisos Meteorológicos até 3 dias</h3>

    <div style="background: wheat">


        <script>
            document.addEventListener('DOMContentLoaded', function () {
                fetch('https://api.ipma.pt/open-data/forecast/meteorology/cities/daily/1010500.json')// envia GET request ao URL
                    .then(response => response.json()) // Põe a resposta no formato json
                    .then(data => {
                        for (let i = 0; i < data.size; i++) {

                            const text = data[i].text;


                            const awarenessTypeName = data[i].awarenessTypeName;
                            const startTime = data[i].startTime;
                            const awarenessLevelID = data[i].awarenessLevelID;
                            const endTime = data[i].awarenessTypeName;


                            document.getElementById("ipma").innerHTML += `text = ${text} endTime = ${endTime} awarenessLevelID = ${awarenessLevelID}  startTime = ${startTime} awarenessTypeName = ${awarenessTypeName} <br>`;


                        }
                    }); // põe os dados na consola
            });
        </script>
    </div>







{% endblock content %}


